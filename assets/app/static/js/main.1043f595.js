!function(){var e,r,t,i,n,l={8338:function(e,r,t){"use strict";t(5289);var i=t(7313),n=t(1739),l=t(2135),o=t(8467),s=t(2367),a=t(9868),c=t(3502),u=t(658),d=t.n(u),f=t(1635),m=t.n(f),v=(t(791),t(6046)),p=t(9439),h=t(6417),g=i.createContext(null),w=function(){return i.useContext(g)},_={notices:[],confirmationModal:{open:!1}};function x(e){var r=e.children,t=i.useState(_),n=(0,p.Z)(t,2),l=n[0],o=n[1];return(0,h.jsx)(g.Provider,{value:{data:l,setData:o},children:r})}var j=t(1413),b=t(6132),y=t(6826),Z=t(9353),S=document.createElement("style");Z.y.prepend(S);var q,k,F,C,T=(0,y.Z)({key:"css",prepend:!0,container:S}),R=function(e){return(0,h.jsx)(b.C,(0,j.Z)((0,j.Z)({},e),{},{value:T}))},M=t(5908),E=t(437),L=t(9289),O=t(1749),P=["title","titleId"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},N.apply(this,arguments)}function I(e,r){var t=e.title,n=e.titleId,l=function(e,r){if(null==e)return{};var t,i,n=function(e,r){if(null==e)return{};var t,i,n={},l=Object.keys(e);for(i=0;i<l.length;i++)t=l[i],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++)t=l[i],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}(e,P);return i.createElement("svg",N({width:429.00000000000006,height:50.95513881393697,viewBox:"0 0 404.3981122768509 48.033011531843826",ref:r,"aria-labelledby":n},l),t?i.createElement("title",{id:n},t):null,q||(q=i.createElement("defs",{id:"SvgjsDefs3412"})),k||(k=i.createElement("g",{id:"SvgjsG3413",transform:"matrix(1.600079654870088,0,0,1.600079654870088,-1.3751088912080647,3.890248556919609)",fill:"#ffffff"},i.createElement("path",{d:"M8.0762 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M25.32229375 20.19531 c-4.1504 0 -7.2168 -2.832 -7.2168 -7.2559 c0 -4.4336 3.0664 -7.2461 7.2168 -7.2461 c4.1406 0 7.207 2.8125 7.207 7.2461 c0 4.4238 -3.0664 7.2559 -7.207 7.2559 z M25.32229375 17.5098 c2.4316 0 4.2969 -1.709 4.2969 -4.5703 c0 -2.8516 -1.8652 -4.5508 -4.2969 -4.5508 s-4.2969 1.6992 -4.2969 4.5508 c0 2.8613 1.8652 4.5703 4.2969 4.5703 z M40.078165625 17.4121 l4.4238 0 l0 2.5879 l-7.3535 0 l0 -14.111 l2.9297 0 l0 11.523 z M51.5918375 17.4121 l4.4238 0 l0 2.5879 l-7.3535 0 l0 -14.111 l2.9297 0 l0 11.523 z M68.359609375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M79.550809375 20.19531 c-4.1504 0 -7.2168 -2.8223 -7.2168 -7.2559 s3.0664 -7.2461 7.2168 -7.2461 c3.1445 0 5.6641 1.6113 6.6699 4.2871 l-2.7344 0.99609 c-0.625 -1.6406 -2.1191 -2.5879 -3.9355 -2.5879 c-2.4316 0 -4.2969 1.6992 -4.2969 4.5508 s1.8652 4.5605 4.2969 4.5605 c1.8164 0 3.3105 -0.95703 3.9355 -2.5977 l2.7344 0.99609 c-1.0059 2.6758 -3.5254 4.2969 -6.6699 4.2969 z M98.730703125 5.888999999999999 l0 2.5781 l-3.3496 0 l0 11.533 l-2.9004 0 l0 -11.533 l-3.3691 0 l0 -2.5781 l9.6191 0 z"}))),F||(F=i.createElement("g",{id:"SvgjsG3414",transform:"matrix(0.6004126441480478,0,0,0.6004126441480478,171.59628620266756,-6.004126441480478)",fill:"#ffffff"},i.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M13,46.18h32.3a4,4,0,0,0,4-4V35.9a4,4,0,0,0-4-4H13a4,4,0,0,0-4,4V42.2A4,4,0,0,0,13,46.18ZM12,35.9a1,1,0,0,1,1-1h32.3a1,1,0,0,1,1,1V42.2a1,1,0,0,1-1,1H13a1,1,0,0,1-1-1ZM9,64a4,4,0,0,0,4,4h32.3a4,4,0,0,0,4-4V57.75a4,4,0,0,0-4-4H13a4,4,0,0,0-4,4Zm3-6.29a1,1,0,0,1,1-1h32.3a1,1,0,0,1,1,1V64a1,1,0,0,1-1,1H13a1,1,0,0,1-1-1ZM9,86a4,4,0,0,0,4,4H86.42a4,4,0,0,0,4-4V79.76a4,4,0,0,0-4-4H13a4,4,0,0,0-4,4Zm3-6.23a1,1,0,0,1,1-1H86.42a1,1,0,0,1,1,1V86a1,1,0,0,1-1,1H13a1,1,0,0,1-1-1ZM87,10H13a4,4,0,0,0-4,4V20.3a4,4,0,0,0,4,4H87a4,4,0,0,0,4-4V14A4,4,0,0,0,87,10ZM88,20.3a1,1,0,0,1-1,1H13a1,1,0,0,1-1-1V14a1,1,0,0,1,1-1H87a1,1,0,0,1,1,1ZM72.18,31.92h0a3.38,3.38,0,0,0-3,1.89l-4,8-8.88,1.29a3.4,3.4,0,0,0-1.88,5.8l6.43,6.27L59.3,64.06a3.4,3.4,0,0,0,4.93,3.58l7.95-4.18,7.95,4.18a3.4,3.4,0,0,0,4.93-3.58l-1.52-8.85L90,48.95a3.4,3.4,0,0,0-1.88-5.8L79.2,41.86l-4-8h0A3.38,3.38,0,0,0,72.18,31.92Zm4.68,12a1.5,1.5,0,0,0,1.13.82l9.66,1.4a.4.4,0,0,1,.22.68l-7,6.82a1.5,1.5,0,0,0-.43,1.33l1.65,9.63a.38.38,0,0,1-.16.39.38.38,0,0,1-.42,0l-8.64-4.54a1.5,1.5,0,0,0-1.4,0L62.84,65a.4.4,0,0,1-.58-.42l1.65-9.63a1.5,1.5,0,0,0-.43-1.33l-7-6.82a.4.4,0,0,1,.22-.68l9.66-1.4a1.5,1.5,0,0,0,1.13-.82l4.32-8.76a.4.4,0,0,1,.72,0Z"}))),C||(C=i.createElement("g",{id:"SvgjsG3415",transform:"matrix(1.6000729205777064,0,0,1.6000729205777064,231.68697893421134,3.8903845580426637)",fill:"#ffffff"},i.createElement("path",{d:"M16.396440625 20 l-3.6719 -6.2109 l-0.84961 0 l0 6.2109 l-2.9297 0 l0 -14.111 l5.1172 0 c3.1934 0 4.541 1.8848 4.541 4.2188 c0 1.8945 -1.0742 3.125 -2.9883 3.5352 l4.248 6.3574 l-3.4668 0 z M11.875040625 8.32 l0 3.3691 l1.7285 0 c1.5625 0 2.1973 -0.66406 2.1973 -1.6797 c0 -1.0059 -0.63477 -1.6895 -2.1973 -1.6895 l-1.7285 0 z M32.119375 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M46.035375 5.888999999999999 l3.1152 0 l-5.2148 14.111 l-3.2227 0 l-5.1855 -14.111 l3.1055 0 l3.7012 10.693 z M53.1933875 20 l0 -14.111 l2.9297 0 l0 14.111 l-2.9297 0 z M69.87328125 8.467 l-5.2344 0 l0 3.2031 l4.6387 0 l0 2.5488 l-4.6387 0 l0 3.1934 l5.2344 0 l0 2.5879 l-8.1836 0 l0 -14.111 l8.1836 0 l0 2.5781 z M77.10938125 20 l-3.6914 -14.111 l3.0469 0 l2.7539 10.684 l3.1543 -10.684 l2.4707 0 l3.1348 10.684 l2.7832 -10.684 l3.0371 0 l-3.6914 14.111 l-3.7695 0 l-2.7344 -8.7207 l-2.7246 8.7207 l-3.7695 0 z M102.66604375 20.19531 c-3.0273 0 -5.3906 -1.4551 -5.8203 -4.1016 l3.0273 -0.69336 c0.19531 1.582 1.3574 2.4023 2.9102 2.4023 c1.1914 0 2.1387 -0.52734 2.1289 -1.7188 c-0.0097656 -1.3281 -1.5723 -1.748 -3.291 -2.2754 c-2.0703 -0.64453 -4.2871 -1.4063 -4.2871 -4.0039 c0 -2.627 2.1484 -4.1113 4.9805 -4.1113 c2.4805 0 4.9805 1.0059 5.5469 3.7109 l-2.832 0.70313 c-0.26367 -1.4063 -1.2109 -2.0215 -2.5391 -2.0215 c-1.1816 0 -2.1875 0.48828 -2.1875 1.6504 c0 1.084 1.3867 1.4453 2.9883 1.9238 c2.1289 0.64453 4.6484 1.4648 4.6484 4.2773 c0 2.998 -2.5098 4.2578 -5.2734 4.2578 z"}))))}var A=i.forwardRef(I),z=(t.p,t(5987)),U=t(9881),D=t(5033),H=t(7131),V=t(1198),G=["onClose","sx"],B=function(e){var r=e.onClose,t=void 0===r?function(){return null}:r,n=e.sx,l=(0,z.Z)(e,G),o=i.useState(!0),s=(0,p.Z)(o,2),a=s[0],c=s[1];return(0,h.jsx)(D.Z,{in:a,onExited:t,sx:n,children:(0,h.jsx)(U.Z,(0,j.Z)({action:(0,h.jsx)(H.Z,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){return c(!1)},children:(0,h.jsx)(V.Z,{fontSize:"inherit"})})},l))})},W=t(3433);function J(){function e(e,r){return r<(e=parseInt(e,10).toString(16)).length?e.slice(e.length-r):r>e.length?new Array(r-e.length+1).join("0")+e:e}return e(parseInt((new Date).getTime()/1e3,10),8)+e(Math.floor(123456789*Math.random())+1,5)}function Y(){var e=w();return{list:e.data.notices,add:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],n=function(e){var r,t=0;if(0===e.length)return t;for(r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return t}(r+t);i&&-1!==e.data.notices.findIndex((function(e){return e.hash===n}))||e.setData((0,j.Z)((0,j.Z)({},e.data),{},{notices:[].concat((0,W.Z)(e.data.notices),[{id:J(),text:r,type:t,hash:n}])}))},remove:function(r){var t=e.data.notices.findIndex((function(e){return e.id===r}));-1!==t&&e.setData((0,j.Z)((0,j.Z)({},e.data),{},{notices:[].concat((0,W.Z)(e.data.notices.slice(0,t)),(0,W.Z)(e.data.notices.slice(t+1)))}))},clear:function(){e.setData((0,j.Z)((0,j.Z)({},e.data),{},{notices:[]}))}}}var $=t(9099),Q=t(3604),X=t(4117),K=t(6149),ee=t(6467),re=window.wp.i18n,te=["open","action","description","onConfirm","onCancel"];function ie(e){var r=e.open,t=e.action,i=e.description,n=e.onConfirm,l=e.onCancel,o=(0,z.Z)(e,te);return(0,h.jsxs)(K.Z,(0,j.Z)((0,j.Z)({sx:{"& .MuiDialog-paper":{width:"80%",maxHeight:435}},maxWidth:"xs",open:r},o),{},{children:[(0,h.jsx)(Q.Z,{children:(0,re.sprintf)((0,re.__)("Are you sura that you want to %s?","collect-reviews"),t)}),i&&(0,h.jsx)(ee.Z,{sx:{fontSize:14},children:i}),(0,h.jsxs)(X.Z,{children:[(0,h.jsx)($.Z,{onClick:function(){return l()},color:"error",children:"No"}),(0,h.jsx)($.Z,{autoFocus:!0,onClick:function(){return n()},color:"success",children:"Yes"})]})]}))}var ne=function(){var e,r,t=w(),i=function(){return t.setData((0,j.Z)((0,j.Z)({},t.data),{},{confirmationModal:(0,j.Z)((0,j.Z)({},t.data.confirmationModal),{},{open:!1})}))},n=function(){return t.setData((0,j.Z)((0,j.Z)({},t.data),{},{confirmationModal:{open:!1}}))},l={open:t.data.confirmationModal.open,action:(null===(e=t.data.confirmationModal)||void 0===e?void 0:e.action)||"",description:(null===(r=t.data.confirmationModal)||void 0===r?void 0:r.description)||!1,onConfirm:function(){var e;null!==(e=t.data.confirmationModal)&&void 0!==e&&e.onConfirm&&(i(),t.data.confirmationModal.onConfirm())},onCancel:i,TransitionProps:{onExited:function(){return n}}};return{open:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.setData((0,j.Z)((0,j.Z)({},t.data),{},{confirmationModal:{open:!0,action:e,onConfirm:r,description:i}}))},close:i,modalProps:l}};function le(){var e=(0,o.TH)(),r=Y(),t=ne();return i.useEffect((function(){return r.clear()}),[e]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(M.Z,{position:"static",sx:{marginBottom:4},children:(0,h.jsx)(O.Z,{children:(0,h.jsx)(L.Z,{disableGutters:!0,children:(0,h.jsx)(A,{style:{maxWidth:170}})})})}),(0,h.jsxs)(O.Z,{children:[r.list.map((function(e){return(0,h.jsx)(B,{severity:e.type,onClose:function(){return r.remove(e.id)},sx:{mb:3},children:e.text},e.id)})),(0,h.jsx)(E.Z,{mt:4,children:(0,h.jsx)(o.j3,{})})]}),(0,h.jsx)(ie,(0,j.Z)({},t.modalProps))]})}var oe=t(4165),se=t(5861),ae=t(5359),ce=t(891),ue=t(1689),de=t(7794),fe=t(3745),me=t(6544),ve=t(7036),pe=t(1881),he=t(3872),ge=t(8846),we=t(6781),_e=t(1997),xe=t(1113),je=t(8171),be=t(4929),ye=function(e){var r=e.children,t=e.sx,i=void 0===t?{}:t;return(0,h.jsx)(E.Z,{sx:(0,j.Z)({marginBottom:3},i),children:r})},Ze=function(e){var r=e.children;return(0,h.jsx)(xe.Z,{sx:{fontSize:20,fontWeight:500},children:r})},Se=t(5785),qe=t(5671),ke=t(3144),Fe=t(6274),Ce=t(9359),Te=t(6573),Re=window.collect_reviews_admin,Me=void 0===Re?{}:Re,Ee=function e(r){for(var t in r)null!==r[t]&&"object"==typeof r[t]?e(r[t]):"true"!==r[t]&&"false"!==r[t]||(r[t]="true"===r[t])};Ee(Me);var Le=Me,Oe=window.collect_reviews_admin,Pe=Oe.ajax_url,Ne=Oe.ajax_nonce,Ie=(0,Ce.Z)("action"),Ae=function(){function e(){(0,qe.Z)(this,e),Object.defineProperty(this,Ie,{writable:!0,value:"collect_reviews_ajax"})}return(0,ke.Z)(e,[{key:"post",value:function(e,r){return this.request({method:"post",headers:{"content-type":"application/x-www-form-urlencoded"},data:{action:(0,Fe.Z)(this,Ie)[Ie],_wpnonce:Ne,task:e,data:r}})}},{key:"get",value:function(e,r){return this.request({method:"get",params:{action:(0,Fe.Z)(this,Ie)[Ie],_wpnonce:Ne,task:e,data:r}})}},{key:"request",value:function(e){var r=this,t={url:Pe};return Te.Z.request((0,j.Z)((0,j.Z)({},t),e)).then((function(e){return e.data})).then((function(e){if("object"!=typeof e)throw r.getDefaultErrorMessage();if(!e.success)throw e.data;return e.data}),(function(){throw r.getDefaultErrorMessage()}))}},{key:"getDefaultErrorMessage",value:function(){return(0,re.__)("Something goes wrong. Check WordPress debug log to identify the issue.","collect-reviews")}},{key:"saveSettings",value:function(e){return this.post("save_settings",e).then((function(e){return Ee(e),e}))}}]),e}(),ze=new Ae,Ue=[{field:"status",headerName:"",width:44,minWidth:44,align:"center",renderCell:function(e){var r=(0,re.__)("The review request email is scheduled to be sent.","collect-reviews");return 1===e.row.status&&(r=(0,re.__)("The review request email was sent.","collect-reviews")),2===e.row.status&&(r=(0,re.__)("The review request email failed to send.","collect-reviews")),(0,h.jsx)(ue.Z,{title:r,children:(0,h.jsxs)(E.Z,{sx:{svg:{display:"block"}},children:[0===e.value&&(0,h.jsx)(de.Z,{sx:{color:be.Z[800]}}),1===e.value&&(0,h.jsx)(we.Z,{sx:{color:"success.main"}}),2===e.value&&(0,h.jsx)(fe.Z,{sx:{color:"error.main"}})]})})},sortable:!1},{field:"email",headerName:(0,re.__)("Email","collect-reviews"),width:207,sortable:!1},{field:"platform_name",headerName:(0,re.__)("Platform","collect-reviews"),width:120,sortable:!1},{field:"created_date",headerName:(0,re.__)("Created date","collect-reviews"),width:175,sortable:!1},{field:"send_date",headerName:(0,re.__)("Send date","collect-reviews"),width:175,sortable:!1},{field:"rate_date",headerName:(0,re.__)("Rate date","collect-reviews"),width:175,sortable:!1},{field:"rating",headerName:(0,re.__)("Rating","collect-reviews"),width:70,align:"center",renderCell:function(e){var r=be.Z[800],t=(0,re.__)("The customer chose the rating in the email but hasn't submitted the review.","collect-reviews");return 2===e.row.reply_status?(r="error.main",t=(0,re.__)("The negative review form was submitted.","collect-reviews")):3===e.row.reply_status&&(r="success.main",t=(0,re.__)("The positive review link was clicked and the customer was redirected to the review platform.","collect-reviews")),e.value>0&&(0,h.jsx)(ue.Z,{title:t,children:(0,h.jsxs)(E.Z,{sx:{svg:{display:"block"}},children:[1===e.value&&(0,h.jsx)(me.Z,{sx:{color:r}}),2===e.value&&(0,h.jsx)(ve.Z,{sx:{color:r}}),3===e.value&&(0,h.jsx)(pe.Z,{sx:{color:r}}),4===e.value&&(0,h.jsx)(he.Z,{sx:{color:r}}),5===e.value&&(0,h.jsx)(ge.Z,{sx:{color:r}})]})})},sortable:!1},{field:"refs",headerName:(0,re.__)("Ref","collect-reviews"),width:140,renderCell:function(e){return(0,h.jsx)(E.Z,{children:e.value.map((function(e){return(0,h.jsx)(ue.Z,{title:e.tooltip,children:e.url?(0,h.jsx)(ce.Z,{href:e.url,target:"_blank",children:e.text}):(0,h.jsx)(xe.Z,{fontSize:"inherit",children:e.text})})}))})},sortable:!1},{field:"actions",headerName:"",width:44,minWidth:44,align:"center",renderCell:function(e){return(0,h.jsx)(Ve,{reviewRequest:e.row})},sortable:!1}],De=(0,i.createContext)(null);function He(){var e=(0,i.useState)({page:0,pageSize:20}),r=(0,p.Z)(e,2),t=r[0],n=r[1],o=(0,i.useState)(!1),s=(0,p.Z)(o,2),a=s[0],c=s[1],u=(0,i.useState)({list:[],totalCount:0}),d=(0,p.Z)(u,2),f=d[0],m=d[1],v=Y(),g=function(){var e=(0,se.Z)((0,oe.Z)().mark((function e(){var r;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(!0),e.next=4,ze.get("get_review_requests",{page:t.page,per_page:t.pageSize});case 4:r=e.sent,m({list:r.list,totalCount:r.total_count}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0 instanceof Error?(v.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):v.add(e.t0,"error");case 11:c(!1),Se.NY.scrollToTop();case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){g()}),[t]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ye,{sx:{display:"flex",alignItems:"center"},children:[(0,h.jsx)(Ze,{children:(0,re.__)("Review Requests","collect-reviews")}),(0,h.jsx)(je.Z,{component:l.rU,to:"/new",variant:"outlined",size:"small",sx:{ml:"auto"},onClick:function(){return window.scrollTo(0,0)},children:(0,re.__)("Create review request","collect-reviews")})]}),(0,h.jsx)(De.Provider,{value:{setIsLoading:c,reload:g},children:(0,h.jsx)(ae._,{columns:Ue,rows:f.list,rowCount:f.totalCount,getRowHeight:function(){return"auto"},autoHeight:!0,loading:a,setLoading:c,pageSizeOptions:[20],paginationMode:"server",paginationModel:t,onPaginationModelChange:n,keepNonExistentRowsSelected:!0,localeText:{noRowsLabel:(0,re.__)("No review requests found.","collect-reviews"),noResultsOverlayLabel:(0,re.__)("No review requests found.","collect-reviews")},checkboxSelection:!1,disableRowSelectionOnClick:!0,disableColumnMenu:!0,sx:{backgroundColor:"#fff",borderRadius:0,".MuiDataGrid-columnHeaders:hover .MuiDataGrid-columnSeparator":{visibility:"hidden"},"&.MuiDataGrid-root--densityStandard .MuiDataGrid-cell":{p:"15px 5px"},".MuiDataGrid-row:hover":{backgroundColor:"transparent"},'.MuiDataGrid-cell[data-field="refs"]':{py:"6.5px"},".MuiDataGrid-columnHeader:focus, .MuiDataGrid-cell:focus":{outline:"none"},".MuiDataGrid-row:nth-of-type(even)":{backgroundColor:be.Z[50]}}})})]})}var Ve=function(e){var r=e.reviewRequest,t=Y(),n=(0,i.useContext)(De),l=ne(),o=function(){var e=(0,se.Z)((0,oe.Z)().mark((function e(){return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n.setIsLoading(!0),e.next=4,ze.post("delete_review_request",{id:r.id});case 4:return e.next=6,n.reload();case 6:t.add((0,re.__)("Review request deleted successfully.","collect-reviews"),"success"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),e.t0 instanceof Error?(t.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0),Se.NY.scrollToTop()):t.add(e.t0,"error");case 12:return e.prev=12,n.setIsLoading(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),s="";return 1===r.status&&0===r.rating&&(s=(0,h.jsx)(U.Z,{severity:"warning",children:(0,re.__)("Pay attention that if you delete already sent and not processed review request, the recipient will not be able to leave a review.","collect-reviews")})),(0,h.jsx)(_e.Z,{sx:{cursor:"pointer",color:be.Z[400],transition:"0.2s","&:hover":{color:"error.main"}},onClick:function(){return l.open((0,re.__)("delete review request","collect-reviews"),o,s)}})},Ge=t(7410),Be=t(1405),We=t(2769),Je=t(1872),Ye=t(8492),$e=function(e){var r=e.title,t=e.children;return(0,h.jsxs)(We.Z,{expanded:!0,children:[r&&(0,h.jsx)(Ye.Z,{sx:{borderBottom:"1px solid #eee",paddingX:3,cursor:"default"},children:(0,h.jsx)(xe.Z,{sx:{fontWeight:500},children:r})}),(0,h.jsx)(Je.Z,{sx:{padding:3},children:t})]})},Qe=t(4942),Xe=["children","sx"],Ke=function(e){var r=e.children,t=e.sx,i=void 0===t?{}:t,n=(0,z.Z)(e,Xe);return(0,h.jsx)(xe.Z,(0,j.Z)((0,j.Z)({component:"label",sx:(0,j.Z)({fontWeight:500,fontSize:"15px"},i)},n),{},{children:r}))},er=["children","sx"],rr=function(e){var r=e.children,t=e.sx,i=void 0===t?{}:t,n=(0,z.Z)(e,er);return(0,h.jsx)(E.Z,(0,j.Z)((0,j.Z)({sx:(0,j.Z)({"& + .row":{borderTop:"1px solid #eee",marginTop:3,paddingTop:3}},i),className:"row"},n),{},{children:r}))},tr=t(9860),ir=function(e){var r=e.label,t=e.labelFor,i=e.field,n=e.description,l=e.optional,o=void 0!==l&&l,s=(0,tr.Z)();return(0,h.jsxs)(rr,{sx:(0,Qe.Z)({display:"flex"},s.breakpoints.down("sm"),{flexDirection:"column"}),children:[(0,h.jsxs)(E.Z,{sx:(0,Qe.Z)({marginRight:2,flex:"0 0 200px",paddingTop:"7px"},s.breakpoints.down("sm"),{flexBasis:"auto",marginRight:0,marginBottom:1,paddingTop:0}),children:[r&&(0,h.jsx)(Ke,{htmlFor:t,sx:{textTransform:"capitalize"},children:r}),o&&(0,h.jsx)(E.Z,{sx:{mt:"2px",fontSize:"12px",color:be.Z[600]},children:(0,re.__)("Optional","collect-reviews")})]}),(0,h.jsxs)(E.Z,{sx:{display:"flex",flexDirection:"column",flexGrow:1},children:[(0,h.jsx)(E.Z,{sx:{display:"flex",alignItems:"center",minHeight:"40px",".MuiFormControl-root":{width:"100%"},".MuiInputBase-root, .MuiAutocomplete-root":{maxWidth:"600px"}},children:i&&i}),n&&(0,h.jsx)(E.Z,{sx:{fontSize:"14px",color:be.Z[800],mt:1},children:n})]})]})},nr=t(1938),lr=function(e){return(0,h.jsx)(Ge.gN,(0,j.Z)({component:nr.P},e))},or=t(7780),sr=function(e){return(0,h.jsx)(Ge.gN,(0,j.Z)({component:or.n},e))},ar=function(e){var r=e.children;return(0,h.jsx)(E.Z,{sx:{"& + &":{marginTop:3}},children:r})},cr=function(e){var r=e.children;return(0,h.jsx)(xe.Z,{variant:"h4",sx:{fontSize:17,fontWeight:500,mb:1},children:r})},ur=["children"],dr=function(e){var r=e.children,t=(0,z.Z)(e,ur);return(0,h.jsx)(E.Z,(0,j.Z)((0,j.Z)({},t),{},{children:r}))},fr=function(e){return(0,h.jsx)(E.Z,(0,j.Z)({component:"img",sx:{display:"block",width:"100%",height:"auto",border:"1px solid",borderColor:"border.main",mt:1},width:"552"},e))},mr=t.p+"static/media/google-ask-review.39844ec5e3a9607803b6.jpg",vr=t.p+"static/media/google-review-link.2b8fd2b948db818c93df.jpg",pr=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(U.Z,{severity:"warning",sx:{mb:2},children:(0,re.__)("Ensure youâ€™ve signed in with your Google Business Profile account.","collect-reviews")}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 1","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{dangerouslySetInnerHTML:{__html:(0,re.sprintf)((0,re.__)('Go to your <a href="%s" target="_blank" rel="noopener noreferrer">Google Business Profile account</a>.',"collect-reviews"),"https://business.google.com/")}})})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 2","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Scroll down to see options from your Google Business Profile. Click "Ask for reviews".',"collect-reviews")}),(0,h.jsx)(fr,{src:mr})]})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 3","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('In the popup, copy the provided URL and paste it into the "Review URL" field.',"collect-reviews")}),(0,h.jsx)(fr,{src:vr})]})]})]})},hr=t.p+"static/media/tripadvisor-ask-review.b73f4bd92325c580153e.jpg",gr=t.p+"static/media/tripadvisor-review-link.a45c99cf845c0606d0c0.jpg",wr=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 1","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{dangerouslySetInnerHTML:{__html:(0,re.sprintf)((0,re.__)('Go to your <a href="%s" target="_blank" rel="noopener noreferrer">Tripadvisor</a> establishment page.',"collect-reviews"),"https://www.tripadvisor.com/")}})})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 2","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Click the "Review" button at the top of the page.',"collect-reviews")}),(0,h.jsx)(fr,{src:hr})]})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 3","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Copy the current URL from the browser address bar and paste it into the "Review URL" field.',"collect-reviews")}),(0,h.jsx)(fr,{src:gr})]})]})]})},_r=t.p+"static/media/yelp-ask-review.c20f0d90ef7944c45eac.jpg",xr=t.p+"static/media/yelp-review-link.401b81d5db3284347283.jpg",jr=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 1","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{dangerouslySetInnerHTML:{__html:(0,re.sprintf)((0,re.__)('Go to your <a href="%s" target="_blank" rel="noopener noreferrer">Yelp</a> organization page.',"collect-reviews"),"https://www.yelp.com/")}})})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 2","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Click the "Write a review" button.',"collect-reviews")}),(0,h.jsx)(fr,{src:_r})]})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 3","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Copy the current URL from the browser address bar and paste it into the "Review URL" field.',"collect-reviews")}),(0,h.jsx)(fr,{src:xr})]})]})]})},br=t.p+"static/media/facebook-ask-review.ad514cdc23678cc859c6.jpg",yr=t.p+"static/media/facebook-review-link.eb5d62f6e0d2c409c5ba.jpg",Zr=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 1","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{dangerouslySetInnerHTML:{__html:(0,re.sprintf)((0,re.__)('Go to your <a href="%s" target="_blank" rel="noopener noreferrer">Facebook</a> company page.',"collect-reviews"),"https://www.facebook.com/")}})})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 2","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Click the "Reviews" menu item.',"collect-reviews")}),(0,h.jsx)(fr,{src:br})]})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 3","collect-reviews")}),(0,h.jsxs)(dr,{children:[(0,h.jsx)(xe.Z,{children:(0,re.__)('Copy the current URL from the browser address bar and paste it into the "Review URL" field.',"collect-reviews")}),(0,h.jsx)(fr,{src:yr})]})]})]})},Sr=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(U.Z,{severity:"warning",sx:{mb:2},children:(0,re.__)("This instruction suits most platforms, but some can have different behavior.","collect-reviews")}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 1","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{children:(0,re.__)("Go to a review submission page of your company on the desired platform.","collect-reviews")})})]}),(0,h.jsxs)(ar,{children:[(0,h.jsx)(cr,{children:(0,re.__)("Step 2","collect-reviews")}),(0,h.jsx)(dr,{children:(0,h.jsx)(xe.Z,{children:(0,re.__)('Copy the current URL from the browser address bar and paste it into the "Review URL" field.',"collect-reviews")})})]})]})},qr=function(e){switch(e.platform){case"google":return(0,h.jsx)(pr,{});case"tripadvisor":return(0,h.jsx)(wr,{});case"yelp":return(0,h.jsx)(jr,{});case"facebook":return(0,h.jsx)(Zr,{});case"custom":return(0,h.jsx)(Sr,{});default:return null}};function kr(e){var r;return(null===(r=Le.platforms.find((function(r){return r.slug===e})))||void 0===r?void 0:r.name)||e}var Fr=function(e){var r=e.platform,t=(0,i.useState)(!1),n=(0,p.Z)(t,2),l=n[0],o=n[1],s=kr(r);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ce.Z,{href:"#",onClick:function(e){e.preventDefault(),o(!0)},children:"custom"!==r?(0,re.sprintf)((0,re.__)("Read instruction on how to get %s Review URL","collect-reviews"),s):(0,re.__)("Read instruction on how to get Review URL","collect-reviews")}),(0,h.jsxs)(K.Z,{open:l,fullWidth:!0,maxWidth:"sm",sx:{zIndex:999999},children:[(0,h.jsx)(Q.Z,{sx:{borderBottom:"1px solid",borderColor:"border.main"},children:"custom"!==r?(0,re.sprintf)((0,re.__)("How to get %s Review URL","collect-reviews"),s):(0,re.__)("How to get Review URL","collect-reviews")}),(0,h.jsx)(ee.Z,{sx:{pt:"20px !important"},children:(0,h.jsx)(qr,{platform:r})}),(0,h.jsx)(X.Z,{sx:{borderTop:"1px solid",borderColor:"border.main"},children:(0,h.jsx)(je.Z,{onClick:function(){return o(!1)},variant:"text",sx:{textTransform:"uppercase"},children:(0,re.__)("Close","collect-reviews")})})]})]})},Cr=t(5869);Cr.setLocale({mixed:{required:(0,re.__)("This field is required.","collect-reviews"),notType:(0,re.__)("This field must be a ${type}.","collect-reviews")},string:{url:(0,re.__)("This field must be a valid URL.","collect-reviews"),email:(0,re.__)("This field must be a valid email address.","collect-reviews")},number:{min:(0,re.__)("This field must be greater than or equal to ${min}.","collect-reviews"),max:(0,re.__)("This field must be less than or equal to ${max}.","collect-reviews"),integer:(0,re.__)("This field must be an integer.","collect-reviews")}});var Tr=Cr,Rr=function(){var e,r=(0,o.s0)(),t=Y(),i={initialValues:{email:"",first_name:"",last_name:"",delay:0,platform_type:"google",platform_name:"",platform_review_url:""},validationSchema:Tr.object().shape({email:Tr.string().email().required(),first_name:Tr.string(),last_name:Tr.string(),platform_type:Tr.string().required(),platform_name:Tr.string().when("platform_type",{is:function(e){return"custom"===e},then:function(e){return e.required()}}),platform_review_url:Tr.string().url().required()}),onSubmit:(e=(0,se.Z)((0,oe.Z)().mark((function e(i,n){var l;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=n.setSubmitting,e.prev=1,e.next=4,ze.post("create_review_request",i);case 4:r("/"),setTimeout((function(){t.add((0,re.__)("New review request created successfully.","collect-reviews"),"success")}),100),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),e.t0 instanceof Error?(t.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):t.add(e.t0,"error"),l(!1);case 12:Se.NY.scrollToTop();case 13:case"end":return e.stop()}}),e,null,[[1,8]])}))),function(r,t){return e.apply(this,arguments)})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ye,{children:(0,h.jsx)(Ze,{children:(0,re.__)("New Review Request","collect-reviews")})}),(0,h.jsx)(Ge.J9,(0,j.Z)((0,j.Z)({},i),{},{children:function(e){var r=e.values,t=e.isSubmitting,i=e.setFieldValue,n=e.setFieldTouched;return(0,h.jsxs)(Ge.l0,{children:[(0,h.jsxs)($e,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Recipient's Email Address","collect-reviews"),labelFor:"email",description:(0,re.__)("A review request email will be sent to the defined email address.","collect-reviews"),field:(0,h.jsx)(sr,{name:"email",id:"email"})}),(0,h.jsx)(ir,{label:(0,re.__)("Recipient's First Name","collect-reviews"),labelFor:"first-name",optional:!0,description:(0,re.__)("Fill in this field if you want to use the customer's first name in the review request email.","collect-reviews"),field:(0,h.jsx)(sr,{name:"first_name",id:"first-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Recipient's Last Name","collect-reviews"),labelFor:"last-name",optional:!0,description:(0,re.__)("Fill in this field if you want to use the customer's last name in the review request email.","collect-reviews"),field:(0,h.jsx)(sr,{name:"last_name",id:"last-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Delay","collect-reviews"),labelFor:"delay",description:(0,re.__)("The delay before the review request email will be sent after the review request creation.","collect-reviews"),field:(0,h.jsxs)(lr,{name:"delay",id:"delay",children:[(0,h.jsx)(Be.Z,{value:0,children:(0,re.__)("send immediately","collect-reviews")}),Array.apply(null,Array(23)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60,children:(0,re.sprintf)((0,re._n)("in %s hour","in %s hours",r+1,"collect-reviews"),r+1)},r)})),Array.apply(null,Array(31)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60*24,children:(0,re.sprintf)((0,re._n)("in %s day","in %s days",r+1,"collect-reviews"),r+1)},r+24)})),Array.apply(null,Array(11)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:31*(r+2)*60*60*24,children:(0,re.sprintf)((0,re.__)("in %s months","collect-reviews"),r+2)},r+24+31)}))]})}),(0,h.jsx)(ir,{label:(0,re.__)("Platform","collect-reviews"),labelFor:"platform-type",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("Service or platform where you want to collect reviews from your customers.","collect-reviews"),(0,h.jsx)("br",{}),(0,re.__)('If you haven\'t found your desired platform, you can still select the "custom" option and enter the URL of any review platform.',"collect-reviews")]}),field:(0,h.jsxs)(lr,{name:"platform_type",id:"platform-type",onChange:function(e){i("platform_name","custom"!==e.target.value?kr(e.target.value):""),n("platform_name",!1)},children:[(0,h.jsx)(Be.Z,{value:"custom",children:(0,re.__)("custom","collect-reviews")}),(Le.platforms||[]).map((function(e){var r=e.slug,t=e.name;return(0,h.jsx)(Be.Z,{value:r,children:t},r)}))]})}),"custom"===r.platform_type&&(0,h.jsx)(ir,{label:(0,re.__)("Platform Name","collect-reviews"),labelFor:"platform-name",description:(0,re.__)("It's just a label that will be displayed to the customer while submitting the review.","collect-reviews"),field:(0,h.jsx)(sr,{name:"platform_name",id:"platform-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Review URL","collect-reviews"),labelFor:"platform-review-url",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("The URL of the page where you want to send your customers to leave a review.","collect-reviews"),(0,h.jsx)("br",{}),(0,h.jsx)(Fr,{platform:r.platform_type})]}),field:(0,h.jsx)(sr,{name:"platform_review_url",id:"platform-review-url"})})]}),(0,h.jsx)(je.Z,{loading:t,type:"submit",variant:"contained",sx:{mt:2},children:(0,h.jsx)("span",{children:(0,re.__)("Create review request","collect-reviews")})})]})}}))]})},Mr=[{path:"/",element:(0,h.jsx)(le,{}),children:[{index:!0,element:(0,h.jsx)(He,{})},{path:"/new",element:(0,h.jsx)(Rr,{})}]}],Er=t(3428),Lr=t(6957),Or=t(6104),Pr=t(3405),Nr=t(9019),Ir=t(6605),Ar=t(5281),zr=t(4638),Ur=t(1173),Dr=t(5280),Hr=t(5898),Vr=t(3061),Gr=t(7592),Br=t(7342),Wr=t(9754),Jr=t(1719),Yr=["children","className","value","mountOnLoad"],$r=(0,Gr.ZP)("div",{name:"MuiTabPanel",slot:"Root",overridesResolver:function(e,r){return r.root}})((function(e){return{padding:e.theme.spacing(3)}})),Qr=i.forwardRef((function(e,r){var t=(0,Br.Z)({props:e,name:"MuiTabPanel"}),n=t.children,l=t.className,o=t.value,s=t.mountOnLoad,a=void 0!==s&&s,c=(0,z.Z)(t,Yr),u=(0,j.Z)({},t),d=function(e){var r=e.classes;return(0,Wr.Z)({root:["root"]},Jr.x,r)}(u),f=(0,zr._i)();if(null===f)throw new TypeError("No TabContext provided");var m=(0,zr.uU)(f,o),v=(0,zr.pQ)(f,o),g=i.useState(!1),w=(0,p.Z)(g,2),_=w[0],x=w[1];return i.useEffect((function(){o===f.value&&x(!0)}),[f.value]),(0,h.jsx)($r,(0,j.Z)((0,j.Z)({"aria-labelledby":v,className:(0,Vr.Z)(d.root,l),hidden:o!==f.value,id:m,ref:r,role:"tabpanel",ownerState:u},c),{},{children:(o===f.value||_||a)&&n}))})),Xr=t(549),Kr=t(7343),et=t(3929),rt=function(e){var r=(0,Ge.U$)(e.name),t=(0,p.Z)(r,1)[0];return(0,h.jsx)(et.Z,{label:t.value?(0,re.__)("On","collect-reviews"):(0,re.__)("Off","collect-reviews"),control:(0,h.jsx)(Ge.gN,(0,j.Z)({component:Kr.r,type:"checkbox"},e))})},tt=(0,Xr.Vo)((function(){return Promise.all([t.e(625),t.e(766)]).then(t.bind(t,3766))}));function it(){var e,r,t,n,o,s=Y(),a=(0,i.useRef)(null),c={initialValues:{review_request_email:(0,j.Z)({from_name:"",from_email:"",subject:"",logo:!1,rating_stars_style:"gradient",content:"",footer_text:""},(null===(e=Le.options)||void 0===e?void 0:e.review_request_email)||{}),review_request:(0,j.Z)({frequency:-1},(null===(r=Le.options)||void 0===r?void 0:r.review_request)||{}),positive_review:(0,j.Z)({skip_confirmation:!1},(null===(t=Le.options)||void 0===t?void 0:t.positive_review)||{}),negative_review:(0,j.Z)({email:"",threshold:3},(null===(n=Le.options)||void 0===n?void 0:n.negative_review)||{})},validationSchema:Tr.object().shape({review_request_email:Tr.object().shape({from_name:Tr.string().required(),from_email:Tr.string().required().email(),subject:Tr.string().required()}),negative_review:Tr.object().shape({email:Tr.string().required().email(),threshold:Tr.number().required().integer().min(0).max(5)})}),onSubmit:(o=(0,se.Z)((0,oe.Z)().mark((function e(r,t){var i,n,l;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.setSubmitting,n=t.setValues,e.prev=1,e.next=4,ze.saveSettings(r);case 4:l=e.sent,n({review_request_email:l.review_request_email||{},review_request:l.review_request||{},positive_review:l.positive_review||{},negative_review:l.negative_review||{}}),Le.options=l,s.add((0,re.__)("Settings saved successfully.","collect-reviews"),"success"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),e.t0 instanceof Error?(s.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):s.add(e.t0,"error");case 13:i(!1),Se.NY.scrollToTop();case 15:case"end":return e.stop()}}),e,null,[[1,10]])}))),function(e,r){return o.apply(this,arguments)})},u=(0,i.useState)("preview"),d=(0,p.Z)(u,2),f=d[0],m=d[1],v=(0,i.useRef)(null),g=(0,i.useRef)(null),w=(0,i.useState)(),_=(0,p.Z)(w,2),x=_[0],b=_[1],y=(0,i.useState)(!1),Z=(0,p.Z)(y,2),S=Z[0],q=Z[1],k=function(e,r){m(r)},F=function(){var e=(0,se.Z)((0,oe.Z)().mark((function e(r){var t,i,n,l,o,s;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.current){e.next=2;break}return e.abrupt("return");case 2:if(t=v.current.contentDocument||v.current.contentWindow.document,i=t.documentElement,(n=i.querySelector("table.body"))&&(v.current.style.height=n.offsetHeight+"px"),JSON.stringify(x)!==JSON.stringify(r)){e.next=7;break}return e.abrupt("return");case 7:return q(!0),e.prev=8,e.next=11,ze.post("get_review_request_email_preview",r);case 11:i.innerHTML=e.sent,l=i.querySelector("table.body"),v.current.style.height=l.offsetHeight+"px",o=i.querySelectorAll("img"),s=0,o.forEach((function(e){e.onload=function(){++s===o.length&&(v.current.style.height=l.offsetHeight+"px")}})),i.querySelectorAll("a").forEach((function(e){return e.style.pointerEvents="none"})),b(r),e.next=23;break;case 21:e.prev=21,e.t0=e.catch(8);case 23:q(!1);case 24:case"end":return e.stop()}}),e,null,[[8,21]])})));return function(r){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){"preview"===f&&F(a.current.values.review_request_email)}),[f]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ye,{children:(0,h.jsx)(Ze,{children:(0,re.__)("Settings","collect-reviews")})}),(0,h.jsx)(Ge.J9,(0,j.Z)((0,j.Z)({},c),{},{innerRef:a,children:function(e){var r=e.values,t=e.isSubmitting,n=e.setFieldValue,o=e.handleChange;return(0,h.jsxs)(Ge.l0,{children:[(0,h.jsxs)($e,{title:(0,re.__)("Integrations","collect-reviews"),children:[(0,h.jsx)(rr,{children:(0,h.jsx)(xe.Z,{children:(0,re.__)("Integrations let you collect reviews automatically. For example, send a review request email to the customer after the purchase via WooCommerce or form submission via WPForms. By setting up integrations, you can save time and effort while gathering valuable feedback from your customers.","collect-reviews")})}),(0,h.jsx)(rr,{children:Le.integrations.filter((function(e){return e.is_available})).length>0?(0,h.jsx)(Nr.ZP,{container:!0,spacing:2,children:Le.integrations.filter((function(e){return e.is_available})).map((function(e){return(0,h.jsx)(Nr.ZP,{item:!0,xs:4,children:(0,h.jsxs)(Er.Z,{sx:{display:"flex",flexDirection:"column",height:"100%"},children:[(0,h.jsx)(E.Z,{sx:{display:"flex",height:90,backgroundColor:"rgba( 21, 101, 192, 0.1 )"},children:(0,h.jsx)(Lr.Z,{component:"img",image:"".concat(Le.plugin_url,"/assets/images/integrations/").concat(e.slug,".svg"),alt:e.title,sx:{margin:"auto",maxWidth:220,maxHeight:70}})}),(0,h.jsx)(Pr.Z,{sx:{borderBottom:"1px solid "+be.Z[300],px:2,py:1},children:(0,h.jsx)(xe.Z,{component:"div",sx:{fontSize:16,fontWeight:500},children:e.title})}),(0,h.jsxs)(Or.Z,{children:[(0,h.jsx)(je.Z,{component:l.rU,to:"integration/".concat(e.slug.replaceAll("_","-")),size:"small",variant:"outlined",onClick:function(){return window.scrollTo(0,0)},children:e.is_configured?(0,re.__)("Edit","collect-reviews"):(0,re.__)("Configure","collect-reviews")}),e.is_configured&&(0,h.jsx)(E.Z,{sx:{display:"flex",alignItems:"center",ml:"auto"},children:e.is_enabled?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(E.Z,{sx:{backgroundColor:"success.main",width:10,height:10,mr:1,borderRadius:"50%",boxShadow:"0 0 0 2px rgb(46 125 50 / 30%)"}}),(0,h.jsx)(xe.Z,{sx:{fontSize:13,fontWeight:500,color:"success.main"},children:(0,re.__)("Active","collect-reviews")})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(E.Z,{sx:{backgroundColor:"error.main",width:10,height:10,mr:1,borderRadius:"50%",boxShadow:"0 0 0 2px rgb(211 47 47 / 30%)"}}),(0,h.jsx)(xe.Z,{sx:{fontSize:13,fontWeight:500,color:"error.main"},children:(0,re.__)("Inactive","collect-reviews")})]})})]})]})})}))}):(0,h.jsxs)(U.Z,{severity:"warning",icon:!1,children:[(0,h.jsx)(xe.Z,{sx:{mb:2},children:(0,re.__)("Unfortunately, you don't have installed any plugin that allows you to collect reviews automatically, but you can always create review requests manually.","collect-reviews")}),(0,h.jsx)(xe.Z,{children:(0,re.__)("Here is the list of plugins that allows you to collect reviews automatically:","collect-reviews")}),(0,h.jsx)("ul",{style:{margin:"8px 0 0",paddingLeft:15,fontSize:16},children:Le.integrations.map((function(e){return(0,h.jsx)("li",{children:e.title})}))}),(0,h.jsx)(je.Z,{sx:{mt:3},href:"".concat(Le.review_requests_page_url,"#/new"),variant:"outlined",children:(0,re.__)("Create review request manually","collect-reviews")})]})})]}),(0,h.jsxs)($e,{title:(0,re.__)("Review Request Email Settings","collect-reviews"),children:[(0,h.jsx)(rr,{children:(0,h.jsx)(xe.Z,{children:(0,re.__)("Email that will be sent to the customer to request a review.","collect-reviews")})}),(0,h.jsx)(ir,{label:(0,re.__)("Frequency","collect-reviews"),labelFor:"frequency",description:(0,re.__)("How often the review request email can be sent to the same customer automatically.","collect-reviews"),field:(0,h.jsxs)(lr,{name:"review_request.frequency",id:"frequency",children:[(0,h.jsx)(Be.Z,{value:-1,children:(0,re.__)("Only once","collect-reviews")}),(0,h.jsx)(Be.Z,{value:0,children:(0,re.__)("Each time (e.g. after each purchase of form submission)","collect-reviews")}),Array.apply(null,Array(12)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:30*(r+1),children:(0,re.sprintf)((0,re._n)("No more than 1 email in %s month","No more than 1 email in %s months",r+1,"collect-reviews"),r+1)},r)}))]})}),(0,h.jsx)(ir,{label:(0,re.__)("Sender Name","collect-reviews"),labelFor:"email-from-name",description:(0,re.__)("The name that the review request emails are sent from.","collect-reviews"),field:(0,h.jsx)(sr,{name:"review_request_email.from_name",id:"email-from-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Sender Email","collect-reviews"),labelFor:"email-from-email",description:(0,re.__)("The email that the review request emails are sent from.","collect-reviews"),field:(0,h.jsx)(sr,{name:"review_request_email.from_email",id:"email-from-email"})}),(0,h.jsx)(ir,{label:(0,re.__)("Email Subject","collect-reviews"),labelFor:"email-subject",field:(0,h.jsx)(sr,{name:"review_request_email.subject",id:"email-subject"})}),(0,h.jsx)(ir,{label:(0,re.__)("Email Logo","collect-reviews"),labelFor:"email-logo",field:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(Hr.Z,{direction:"row",spacing:1,children:[(0,h.jsx)(je.Z,{variant:"outlined",onClick:function(){return g.current.click()},children:r.review_request_email.logo||r.review_request_email.logo_raw?(0,re.__)("Change image","collect-reviews"):(0,re.__)("Choose image","collect-reviews")}),(r.review_request_email.logo||r.review_request_email.logo_raw)&&(0,h.jsx)(je.Z,{color:"error",onClick:function(){g.current.value="",n("review_request_email.logo",!1),n("review_request_email.logo_raw",!1),F((0,j.Z)((0,j.Z)({},r.review_request_email),{},{logo:!1,logo_raw:!1}))},children:(0,re.__)("Delete","collect-reviews")})]}),(0,h.jsx)(Ir.Z,{id:"email-logo",inputRef:g,style:{display:"none"},inputProps:{type:"file",name:"",accept:".jpg, .jpeg, .png, .svg",onChange:function(e){var t=e.currentTarget.files[0],i=new Image;t&&(i.src=URL.createObjectURL(t),i.onload=function(){var e=document.createElement("canvas"),t=i.width,l=i.height,o=t/l;t>600&&(t=600,l=600/o),l>200&&(t=200*o,l=200),e.width=t,e.height=l,e.getContext("2d").drawImage(i,0,0,t,l);var s={url:e.toDataURL("image/png"),width:t,height:l};n("review_request_email.logo",!1),n("review_request_email.logo_raw",s),F((0,j.Z)((0,j.Z)({},r.review_request_email),{},{logo:!1,logo_raw:s}))})}}})]})}),(0,h.jsx)(ir,{label:(0,re.__)("Rating Stars Style","collect-reviews"),labelFor:"rating-stars-style",field:(0,h.jsxs)(lr,{name:"review_request_email.rating_stars_style",id:"rating-stars-style",onChange:function(e){o(e),F((0,j.Z)((0,j.Z)({},r.review_request_email),{},{rating_stars_style:e.target.value}))},children:[(0,h.jsx)(Be.Z,{value:"gradient",children:(0,re.__)("Gradient (default)","collect-reviews")}),(0,h.jsx)(Be.Z,{value:"classic",children:(0,re.__)("Classic","collect-reviews")})]})}),(0,h.jsx)(rr,{children:(0,h.jsxs)(zr.ZP,{value:f,children:[(0,h.jsx)(E.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,h.jsxs)(Ur.Z,{onChange:k,children:[(0,h.jsx)(Dr.Z,{label:(0,re.__)("Preview","collect-reviews"),value:"preview"}),(0,h.jsx)(Dr.Z,{label:(0,re.__)("Edit","collect-reviews"),value:"edit"})]})}),(0,h.jsxs)(Qr,{value:"preview",sx:{position:"relative",padding:"24px 0 0"},children:[S&&(0,h.jsx)(E.Z,{sx:{position:"absolute",top:0,bottom:0,left:0,right:0,display:"flex",backgroundColor:"overlay.light"},children:(0,h.jsx)(Ar.Z,{sx:{margin:"auto"}})}),(0,h.jsx)("iframe",{src:"javascript:void(0);",ref:v,style:{border:"none",width:"100%",height:500}})]}),(0,h.jsxs)(Qr,{value:"edit",sx:{padding:"24px 0 0"},children:[(0,h.jsx)(rr,{children:(0,h.jsx)(i.Suspense,{fallback:(0,h.jsx)(E.Z,{sx:{width:"100%",height:500,display:"flex",backgroundColor:"overlay.light"},children:(0,h.jsx)(Ar.Z,{sx:{margin:"auto"}})}),children:(0,h.jsx)(tt,{value:r.review_request_email.content,onEditorChange:function(e){return n("review_request_email.content",e)},init:{height:500,menubar:!1,plugins:["lists","link","preview","code"],toolbar:"undo redo | fontsize |bold italic underline forecolor | alignleft aligncenter alignright | bullist numlist |  link | code",content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size: 16px; }",font_size_formats:"8px 10px 12px 14px 16px 18px 24px 36px"}})})}),(0,h.jsxs)(rr,{children:[(0,h.jsx)(Ke,{htmlFor:"email-footer-text",sx:{display:"block",mb:1},children:(0,re.__)("Email footer text","collect-reviews")}),(0,h.jsx)(sr,{name:"review_request_email.footer_text",id:"email-footer-text",multiline:!0,fullWidth:!0})]})]})]})})]}),(0,h.jsx)($e,{title:(0,re.__)("Positive Reviews","collect-reviews"),children:(0,h.jsx)(ir,{label:(0,re.__)("Skip confirmation page","collect-reviews"),labelFor:"positive-review-skip-confirmation",description:(0,re.__)("Enable this option to skip the confirmation page and automatically redirect customers to the review platform immediately after they click a rating in the review request email.","collect-reviews"),field:(0,h.jsx)(rt,{name:"positive_review.skip_confirmation",id:"positive-review-skip-confirmation"})})}),(0,h.jsxs)($e,{title:(0,re.__)("Negative Reviews","collect-reviews"),children:[(0,h.jsx)(rr,{children:(0,h.jsx)(xe.Z,{children:(0,re.__)("To prevent negative reviews on review platforms, if a customer chooses a negative rating in the review request email, they will be redirected to a feedback form instead of the review platform (Google, Facebook, etc.).","collect-reviews")})}),(0,h.jsx)(ir,{label:(0,re.__)("Negative Review Email","collect-reviews"),labelFor:"negative-review-email",description:(0,re.__)("Email address to which negative reviews will be sent.","collect-reviews"),field:(0,h.jsx)(sr,{name:"negative_review.email",id:"negative-review-email"})}),(0,h.jsx)(ir,{label:(0,re.__)("Negative Review Threshold","collect-reviews"),labelFor:"negative-review-threshold",description:(0,re.__)("The number of stars that are considered as a negative rating. For example, if the value is set to 3 stars, then 1, 2, or 3 stars will be considered as a negative rating, while 4 and 5-star ratings will be classified as positive.","collect-reviews"),field:(0,h.jsx)(sr,{name:"negative_review.threshold",id:"negative-review-threshold"})})]}),(0,h.jsx)(je.Z,{loading:t,type:"submit",sx:{mt:2},children:(0,h.jsx)("span",{children:(0,re.__)("Save settings","collect-reviews")})})]})}}))]})}var nt=t(6859),lt=function(){var e,r,t,n,o=Y(),s=(null===(e=Le.options)||void 0===e||null===(r=e.integrations)||void 0===r?void 0:r.woocommerce)||{enabled:!0,triggers:[]};null!=s&&s.triggers&&0!==s.triggers.length||(s.triggers=[{order_status:"completed",review_request_delay:1209600,platforms:[]}]),s.triggers=s.triggers.map((function(e){return(0,j.Z)((0,j.Z)({},e),{},{platforms:null!=e&&e.platforms&&e.platforms.length>0?e.platforms:[{type:"google",name:"",review_url:""}]})}));var a,c={initialValues:s,validationSchema:Tr.object().shape({triggers:Tr.array().of(Tr.object().shape({order_status:Tr.string().required(),platforms:Tr.array().of(Tr.object().shape({type:Tr.string().required(),name:Tr.string().when("type",{is:function(e){return"custom"===e},then:function(e){return e.required()}}),review_url:Tr.string().url().required()}))}))}),onSubmit:(a=(0,se.Z)((0,oe.Z)().mark((function e(r,t){var i,n,l;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.setSubmitting,n=t.setValues,e.prev=1,e.next=4,ze.saveSettings({integrations:{woocommerce:r}});case 4:l=e.sent,n(l.integrations.woocommerce||{}),Le.options=l,Le.integrations=Le.integrations.map((function(e){return"woocommerce"===e.slug&&(e.is_configured=!0,e.is_enabled=r.enabled),e})),o.add((0,re.__)("Settings saved successfully.","collect-reviews"),"success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error?(o.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):o.add(e.t0,"error");case 14:i(!1),Se.NY.scrollToTop();case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,r){return a.apply(this,arguments)})},u=(null===(t=Le.integrations)||void 0===t||null===(n=t.find((function(e){return"woocommerce"===e.slug})))||void 0===n?void 0:n.order_statuses)||{};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ye,{children:[(0,h.jsx)(Ze,{children:(0,re.__)("WooCommerce","collect-reviews")}),(0,h.jsxs)(ce.Z,{component:l.rU,to:"/",sx:{display:"inline-flex",alignItems:"center",mt:1},onClick:function(){return window.scrollTo(0,0)},children:[(0,h.jsx)(nt.Z,{fontSize:"small",sx:{mr:1}}),(0,re.__)("Back","collect-reviews")]})]}),(0,h.jsx)(Ge.J9,(0,j.Z)((0,j.Z)({},c),{},{children:function(e){var r=e.values,t=e.isSubmitting,n=e.setFieldValue,l=e.setFieldTouched;return(0,h.jsxs)(Ge.l0,{children:[(0,h.jsxs)($e,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Enabled","collect-reviews"),labelFor:"enabled",field:(0,h.jsx)(rt,{name:"enabled",id:"enabled"})}),(0,h.jsx)(Ge.F2,{name:"triggers",children:function(){return(r.triggers||[]).map((function(e,t){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Trigger","collect-reviews"),labelFor:"order-status",description:(0,re.__)("The order status that will create the review request.","collect-reviews"),field:(0,h.jsx)(lr,{name:"triggers.".concat(t,".order_status"),id:"order-status",children:Object.entries(u).map((function(e){var r=(0,p.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(Be.Z,{value:t,children:i},t)}))})}),(0,h.jsx)(ir,{label:(0,re.__)("Delay","collect-reviews"),labelFor:"review-request-delay",description:(0,re.__)("The delay before the review request email will be sent after the purchase. It can be useful if you prefer to wait until the order has been delivered or the product has been used for some time before sending the review request email.","collect-reviews"),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".review_request_delay"),id:"review-request-delay",children:[(0,h.jsx)(Be.Z,{value:0,children:(0,re.__)("send immediately","collect-reviews")}),Array.apply(null,Array(23)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60,children:(0,re.sprintf)((0,re._n)("in %s hour","in %s hours",r+1,"collect-reviews"),r+1)},r)})),Array.apply(null,Array(31)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60*24,children:(0,re.sprintf)((0,re._n)("in %s day","in %s days",r+1,"collect-reviews"),r+1)},r+24)})),Array.apply(null,Array(11)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:31*(r+2)*60*60*24,children:(0,re.sprintf)((0,re.__)("in %s months","collect-reviews"),r+2)},r+24+31)}))]})}),(0,h.jsx)(Ge.F2,{name:"triggers.".concat(t,".platforms"),children:function(){return r.triggers[t].platforms.map((function(e,o){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Platform","collect-reviews"),labelFor:"review-request-platform",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("Service or platform where you want to collect reviews from your customers.","collect-reviews"),(0,h.jsx)("br",{}),(0,re.__)('If you haven\'t found your desired platform, you can still select the "custom" option and enter the URL of any review platform.',"collect-reviews")]}),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".platforms.").concat(o,".type"),id:"review-request-platform",onChange:function(e){n("triggers.".concat(t,".platforms.").concat(o,".name"),"custom"!==e.target.value?kr(e.target.value):""),l("triggers.".concat(t,".platforms.").concat(o,".name"),!1)},children:[(0,h.jsx)(Be.Z,{value:"custom",children:(0,re.__)("custom","collect-reviews")}),(Le.platforms||[]).map((function(e){var r=e.slug,t=e.name;return(0,h.jsx)(Be.Z,{value:r,children:t},r)}))]})}),"custom"===r.triggers[t].platforms[o].type&&(0,h.jsx)(ir,{label:(0,re.__)("Platform Name","collect-reviews"),labelFor:"review-request-platform-name",description:(0,re.__)("It's just a label that will be displayed to the customer while submitting the review.","collect-reviews"),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".name"),id:"review-request-platform-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Review URL","collect-reviews"),labelFor:"review-request-platform-review-url",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("The URL of the page where you want to send your customers to leave a review.","collect-reviews"),(0,h.jsx)("br",{}),(0,h.jsx)(Fr,{platform:r.triggers[t].platforms[o].type})]}),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".review_url"),id:"review-request-platform-review-url"})})]},o)}))}})]},t)}))}})]}),(0,h.jsx)(je.Z,{loading:t,type:"submit",variant:"contained",sx:{mt:2},children:(0,h.jsx)("span",{children:(0,re.__)("Save settings","collect-reviews")})})]})}}))]})},ot=t(4631),st=t(8367),at=["loading","placeholder"],ct=function(e){var r=e.loading,t=e.placeholder,n=(0,z.Z)(e,at),l=(0,Ge.U$)(n.name),o=(0,p.Z)(l,2)[1];return(0,h.jsx)(Ge.gN,(0,j.Z)({component:st.F,sx:{width:"100%"},loading:r,loadingText:(0,re.__)("Loading...","collect-reviews"),noOptionsText:(0,re.__)("No options","collect-reviews"),renderInput:function(e){return(0,h.jsx)(ot.Z,(0,j.Z)((0,j.Z)({},e),{},{InputProps:(0,j.Z)((0,j.Z)({},e.InputProps),{},{endAdornment:(0,h.jsxs)(i.Fragment,{children:[r?(0,h.jsx)(Ar.Z,{color:"inherit",size:20}):null,e.InputProps.endAdornment]})}),placeholder:t,error:o.touched&&!!o.error,helperText:o.touched&&o.error}))}},n))},ut=["integration"];function dt(e){var r=e.integration,t=(0,z.Z)(e,ut),n=i.useState(!1),l=(0,p.Z)(n,2),o=l[0],s=l[1],a=i.useState(!1),c=(0,p.Z)(a,2),u=c[0],d=c[1],f=i.useState([]),m=(0,p.Z)(f,2),v=m[0],g=m[1],w=o&&0===v.length&&!u;return i.useEffect((function(){var e=!0;if(w)return(0,se.Z)((0,oe.Z)().mark((function t(){var i;return(0,oe.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ze.post("get_forms_integration_forms",{integration:r});case 3:i=t.sent,e&&g(i),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:return t.prev=10,e&&d(!0),t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))(),function(){e=!1}}),[w]),(0,h.jsx)(ct,(0,j.Z)({open:o,onOpen:function(){s(!0)},onClose:function(){s(!1)},isOptionEqualToValue:function(e,r){return e.id===r.id},getOptionLabel:function(e){return"".concat(e.title," (#").concat(e.id,")")},options:v,loading:w,placeholder:(0,re.__)("Select a form","collect-reviews"),noOptionsText:(0,re.__)("No forms found","collect-reviews")},t))}var ft=["integration","formId","fieldType"];function mt(e){var r=e.integration,t=e.formId,n=e.fieldType,l=(0,z.Z)(e,ft),o=i.useState(!1),s=(0,p.Z)(o,2),a=s[0],c=s[1],u=i.useState(!1),d=(0,p.Z)(u,2),f=d[0],m=d[1],v=i.useState(!1),g=(0,p.Z)(v,2),w=g[0],_=g[1],x=i.useState([]),b=(0,p.Z)(x,2),y=b[0],Z=b[1],S=f&&0===y.length&&!w,q=i.useRef({});return i.useEffect((function(){!1!==a&&t!==a&&(void 0!==q.current[t]?Z(q.current[t]):(Z([]),_(!1))),c(t)}),[t]),i.useEffect((function(){var e=!0;if(S)return(0,se.Z)((0,oe.Z)().mark((function i(){var l;return(0,oe.Z)().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,ze.post("get_forms_integration_form_fields",{integration:r,form_id:t,field_type:n});case 3:l=i.sent,e&&(Z(l),q.current[t]=l),i.next=10;break;case 7:i.prev=7,i.t0=i.catch(0),console.log(i.t0);case 10:return i.prev=10,e&&_(!0),i.finish(10);case 13:case"end":return i.stop()}}),i,null,[[0,7,10,13]])})))(),function(){e=!1}}),[S]),(0,h.jsx)(ct,(0,j.Z)({open:f,onOpen:function(){m(!0)},onClose:function(){m(!1)},isOptionEqualToValue:function(e,r){return e.id===r.id},getOptionLabel:function(e){return"".concat(e.title," (#").concat(e.id,")")},options:y,loading:S,placeholder:(0,re.sprintf)((0,re.__)("Select a form %s filed","collect-reviews"),n),noOptionsText:(0,re.sprintf)((0,re.__)("No %s fields found in the selected form","collect-reviews"),n)},l))}var vt=function(){var e,r,t=Y(),n=(null===(e=Le.options)||void 0===e||null===(r=e.integrations)||void 0===r?void 0:r.wpforms)||{enabled:!0,triggers:[]};null!=n&&n.triggers&&0!==n.triggers.length||(n.triggers=[{form:null,form_email_field:null,form_name_field:null,review_request_delay:1209600,platforms:[]}]),n.triggers=n.triggers.map((function(e){return(0,j.Z)((0,j.Z)({},e),{},{platforms:null!=e&&e.platforms&&e.platforms.length>0?e.platforms:[{type:"google",name:"",review_url:""}]})}));var o,s={initialValues:n,validationSchema:Tr.object().shape({triggers:Tr.array().of(Tr.object().shape({form:Tr.object().required(),form_email_field:Tr.object().required(),platforms:Tr.array().of(Tr.object().shape({type:Tr.string().required(),name:Tr.string().when("type",{is:function(e){return"custom"===e},then:function(e){return e.required()}}),review_url:Tr.string().url().required()}))}))}),onSubmit:(o=(0,se.Z)((0,oe.Z)().mark((function e(r,i){var n,l,o;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.setSubmitting,l=i.setValues,e.prev=1,e.next=4,ze.saveSettings({integrations:{wpforms:r}});case 4:o=e.sent,l(o.integrations.wpforms||{}),Le.options=o,Le.integrations=Le.integrations.map((function(e){return"wpforms"===e.slug&&(e.is_configured=!0,e.is_enabled=r.enabled),e})),t.add((0,re.__)("Settings saved successfully.","collect-reviews"),"success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error?(t.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):t.add(e.t0,"error");case 14:n(!1),Se.NY.scrollToTop();case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,r){return o.apply(this,arguments)})};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ye,{children:[(0,h.jsx)(Ze,{children:(0,re.__)("WPForms","collect-reviews")}),(0,h.jsxs)(ce.Z,{component:l.rU,to:"/",sx:{display:"inline-flex",alignItems:"center",mt:1},onClick:function(){return window.scrollTo(0,0)},children:[(0,h.jsx)(nt.Z,{fontSize:"small",sx:{mr:1}}),"Back"]})]}),(0,h.jsx)(Ge.J9,(0,j.Z)((0,j.Z)({},s),{},{children:function(e){var r=e.values,t=e.isSubmitting,n=e.setFieldValue,l=e.setFieldTouched;return(0,h.jsxs)(Ge.l0,{children:[(0,h.jsxs)($e,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Enabled","collect-reviews"),labelFor:"enabled",field:(0,h.jsx)(rt,{name:"enabled",id:"enabled"})}),(0,h.jsx)(Ge.F2,{name:"triggers",children:function(){return(r.triggers||[]).map((function(e,t){var o,s;return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Form","collect-reviews"),labelFor:"form",description:(0,re.__)("Review requests will be created after the selected form submission.","collect-reviews"),field:(0,h.jsx)(dt,{integration:"wpforms",name:"triggers.".concat(t,".form"),id:"form",onChange:function(e,r){n("triggers.".concat(t,".form"),r),n("triggers.".concat(t,".form_email_field"),null)}})}),e.form&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Form Email Field","collect-reviews"),labelFor:"form-email-field",description:(0,re.__)("A review request email will be sent to the email address from the selected field.","collect-reviews"),field:(0,h.jsx)(mt,{integration:"wpforms",name:"triggers.".concat(t,".form_email_field"),id:"form-email-field",formId:null===(o=e.form)||void 0===o?void 0:o.id,fieldType:"email"})}),(0,h.jsx)(ir,{label:(0,re.__)("Form Name Field","collect-reviews"),labelFor:"form-name-field",optional:!0,description:(0,re.__)("Fill in this field if you want to use the customer's name in the review request email.","collect-reviews"),field:(0,h.jsx)(mt,{integration:"wpforms",name:"triggers.".concat(t,".form_name_field"),id:"form-name-field",formId:null===(s=e.form)||void 0===s?void 0:s.id,fieldType:"name"})})]}),(0,h.jsx)(ir,{label:(0,re.__)("Delay","collect-reviews"),labelFor:"review-request-delay",description:(0,re.__)("The delay before the review request email will be sent after the form submission. It can be useful if you prefer to wait until the order has been delivered or the product has been used for some time before sending the review request email.","collect-reviews"),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".review_request_delay"),id:"review-request-delay",children:[(0,h.jsx)(Be.Z,{value:0,children:(0,re.__)("send immediately","collect-reviews")}),Array.apply(null,Array(23)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60,children:(0,re.sprintf)((0,re._n)("in %s hour","in %s hours",r+1,"collect-reviews"),r+1)},r)})),Array.apply(null,Array(31)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60*24,children:(0,re.sprintf)((0,re._n)("in %s day","in %s days",r+1,"collect-reviews"),r+1)},r+24)})),Array.apply(null,Array(11)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:31*(r+2)*60*60*24,children:(0,re.sprintf)((0,re.__)("in %s months","collect-reviews"),r+2)},r+24+31)}))]})}),(0,h.jsx)(Ge.F2,{name:"triggers.".concat(t,".platforms"),children:function(){return r.triggers[t].platforms.map((function(e,o){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Platform","collect-reviews"),labelFor:"review-request-platform",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("Service or platform where you want to collect reviews from your customers.","collect-reviews"),(0,h.jsx)("br",{}),(0,re.__)('If you haven\'t found your desired platform, you can still select the "custom" option and enter the URL of any review platform.',"collect-reviews")]}),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".platforms.").concat(o,".type"),id:"review-request-platform",onChange:function(e){n("triggers.".concat(t,".platforms.").concat(o,".name"),"custom"!==e.target.value?kr(e.target.value):""),l("triggers.".concat(t,".platforms.").concat(o,".name"),!1)},children:[(0,h.jsx)(Be.Z,{value:"custom",children:(0,re.__)("custom","collect-reviews")}),(Le.platforms||[]).map((function(e){var r=e.slug,t=e.name;return(0,h.jsx)(Be.Z,{value:r,children:t},r)}))]})}),"custom"===r.triggers[t].platforms[o].type&&(0,h.jsx)(ir,{label:(0,re.__)("Platform Name","collect-reviews"),labelFor:"review-request-platform-name",description:(0,re.__)("It's just a label that will be displayed to the customer while submitting the review.","collect-reviews"),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".name"),id:"review-request-platform-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Review URL","collect-reviews"),labelFor:"review-request-platform-review-url",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("The URL of the page where you want to send your customers to leave a review.","collect-reviews"),(0,h.jsx)("br",{}),(0,h.jsx)(Fr,{platform:r.triggers[t].platforms[o].type})]}),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".review_url"),id:"review-request-platform-review-url"})})]},o)}))}})]},t)}))}})]}),(0,h.jsx)(je.Z,{loading:t,type:"submit",variant:"contained",sx:{mt:2},children:(0,h.jsx)("span",{children:(0,re.__)("Save settings","collect-reviews")})})]})}}))]})},pt=function(){var e,r,t,n,o=Y(),s=(null===(e=Le.options)||void 0===e||null===(r=e.integrations)||void 0===r?void 0:r.easy_digital_downloads)||{enabled:!0,triggers:[]};null!=s&&s.triggers&&0!==s.triggers.length||(s.triggers=[{order_status:"complete",review_request_delay:1209600,platforms:[]}]),s.triggers=s.triggers.map((function(e){return(0,j.Z)((0,j.Z)({},e),{},{platforms:null!=e&&e.platforms&&e.platforms.length>0?e.platforms:[{type:"google",name:"",review_url:""}]})}));var a,c={initialValues:s,validationSchema:Tr.object().shape({triggers:Tr.array().of(Tr.object().shape({order_status:Tr.string().required(),platforms:Tr.array().of(Tr.object().shape({type:Tr.string().required(),name:Tr.string().when("type",{is:function(e){return"custom"===e},then:function(e){return e.required()}}),review_url:Tr.string().url().required()}))}))}),onSubmit:(a=(0,se.Z)((0,oe.Z)().mark((function e(r,t){var i,n,l;return(0,oe.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.setSubmitting,n=t.setValues,e.prev=1,e.next=4,ze.saveSettings({integrations:{easy_digital_downloads:r}});case 4:l=e.sent,n(l.integrations.easy_digital_downloads||{}),Le.options=l,Le.integrations=Le.integrations.map((function(e){return"easy_digital_downloads"===e.slug&&(e.is_configured=!0,e.is_enabled=r.enabled),e})),o.add((0,re.__)("Settings saved successfully.","collect-reviews"),"success"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0 instanceof Error?(o.add((0,re.__)("Something goes wrong. Check browser's JavaScript console to identify the issue and reach out to plugin's support.","collect-reviews"),"error"),console.error(e.t0)):o.add(e.t0,"error");case 14:i(!1),Se.NY.scrollToTop();case 16:case"end":return e.stop()}}),e,null,[[1,11]])}))),function(e,r){return a.apply(this,arguments)})},u=(null===(t=Le.integrations)||void 0===t||null===(n=t.find((function(e){return"easy_digital_downloads"===e.slug})))||void 0===n?void 0:n.order_statuses)||{};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(ye,{children:[(0,h.jsx)(Ze,{children:(0,re.__)("Easy Digital Downloads","collect-reviews")}),(0,h.jsxs)(ce.Z,{component:l.rU,to:"/",sx:{display:"inline-flex",alignItems:"center",mt:1},onClick:function(){return window.scrollTo(0,0)},children:[(0,h.jsx)(nt.Z,{fontSize:"small",sx:{mr:1}}),(0,re.__)("Back","collect-reviews")]})]}),(0,h.jsx)(Ge.J9,(0,j.Z)((0,j.Z)({},c),{},{children:function(e){var r=e.values,t=e.isSubmitting,n=e.setFieldValue,l=e.setFieldTouched;return(0,h.jsxs)(Ge.l0,{children:[(0,h.jsxs)($e,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Enabled","collect-reviews"),labelFor:"enabled",field:(0,h.jsx)(rt,{name:"enabled",id:"enabled"})}),(0,h.jsx)(Ge.F2,{name:"triggers",children:function(){return(r.triggers||[]).map((function(e,t){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Trigger","collect-reviews"),labelFor:"order-status",description:(0,re.__)("The order status that will create the review request.","collect-reviews"),field:(0,h.jsx)(lr,{name:"triggers.".concat(t,".order_status"),id:"order-status",children:Object.entries(u).map((function(e){var r=(0,p.Z)(e,2),t=r[0],i=r[1];return(0,h.jsx)(Be.Z,{value:t,children:i},t)}))})}),(0,h.jsx)(ir,{label:(0,re.__)("Delay","collect-reviews"),labelFor:"review-request-delay",description:(0,re.__)("The delay before the review request email will be sent after the purchase. It can be useful if you prefer to wait until the order has been delivered or the product has been used for some time before sending the review request email.","collect-reviews"),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".review_request_delay"),id:"review-request-delay",children:[(0,h.jsx)(Be.Z,{value:0,children:(0,re.__)("send immediately","collect-reviews")}),Array.apply(null,Array(23)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60,children:(0,re.sprintf)((0,re._n)("in %s hour","in %s hours",r+1,"collect-reviews"),r+1)},r)})),Array.apply(null,Array(31)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:60*(r+1)*60*24,children:(0,re.sprintf)((0,re._n)("in %s day","in %s days",r+1,"collect-reviews"),r+1)},r+24)})),Array.apply(null,Array(11)).map((function(e,r){return(0,h.jsx)(Be.Z,{value:31*(r+2)*60*60*24,children:(0,re.sprintf)((0,re.__)("in %s months","collect-reviews"),r+2)},r+24+31)}))]})}),(0,h.jsx)(Ge.F2,{name:"triggers.".concat(t,".platforms"),children:function(){return r.triggers[t].platforms.map((function(e,o){return(0,h.jsxs)(i.Fragment,{children:[(0,h.jsx)(ir,{label:(0,re.__)("Platform","collect-reviews"),labelFor:"review-request-platform",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("Service or platform where you want to collect reviews from your customers.","collect-reviews"),(0,h.jsx)("br",{}),(0,re.__)('If you haven\'t found your desired platform, you can still select the "custom" option and enter the URL of any review platform.',"collect-reviews")]}),field:(0,h.jsxs)(lr,{name:"triggers.".concat(t,".platforms.").concat(o,".type"),id:"review-request-platform",onChange:function(e){n("triggers.".concat(t,".platforms.").concat(o,".name"),"custom"!==e.target.value?kr(e.target.value):""),l("triggers.".concat(t,".platforms.").concat(o,".name"),!1)},children:[(0,h.jsx)(Be.Z,{value:"custom",children:(0,re.__)("custom","collect-reviews")}),(Le.platforms||[]).map((function(e){var r=e.slug,t=e.name;return(0,h.jsx)(Be.Z,{value:r,children:t},r)}))]})}),"custom"===r.triggers[t].platforms[o].type&&(0,h.jsx)(ir,{label:(0,re.__)("Platform Name","collect-reviews"),labelFor:"review-request-platform-name",description:(0,re.__)("It's just a label that will be displayed to the customer while submitting the review.","collect-reviews"),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".name"),id:"review-request-platform-name"})}),(0,h.jsx)(ir,{label:(0,re.__)("Review URL","collect-reviews"),labelFor:"review-request-platform-review-url",description:(0,h.jsxs)(h.Fragment,{children:[(0,re.__)("The URL of the page where you want to send your customers to leave a review.","collect-reviews"),(0,h.jsx)("br",{}),(0,h.jsx)(Fr,{platform:r.triggers[t].platforms[o].type})]}),field:(0,h.jsx)(sr,{name:"triggers.".concat(t,".platforms.").concat(o,".review_url"),id:"review-request-platform-review-url"})})]},o)}))}})]},t)}))}})]}),(0,h.jsx)(je.Z,{loading:t,type:"submit",variant:"contained",sx:{mt:2},children:(0,h.jsx)("span",{children:(0,re.__)("Save settings","collect-reviews")})})]})}}))]})},ht=[{path:"/",element:(0,h.jsx)(le,{}),children:[{index:!0,element:(0,h.jsx)(it,{})},{path:"/integration/woocommerce",element:(0,h.jsx)(lt,{})},{path:"/integration/easy-digital-downloads",element:(0,h.jsx)(pt,{})},{path:"/integration/wpforms",element:(0,h.jsx)(vt,{})}]}],gt="collect-reviews-settings"===Le.page?ht:Mr,wt=(0,t(7593).Z)({palette:{primary:{main:"#1565c0",light:"#4383cc",dark:"#0e4686",contrastText:"#fff"},overlay:{light:"rgba(255, 255, 255, 0.5)"},border:{main:be.Z[200]}},typography:{fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(","),button:{textTransform:"capitalize"}},components:{MuiPopover:{defaultProps:{container:Z.M}},MuiPopper:{defaultProps:{container:Z.M}},MuiModal:{defaultProps:{container:Z.M}},MuiInputBase:{defaultProps:{size:"small"}},MuiButton:{defaultProps:{variant:"contained"}},MuiLoadingButton:{defaultProps:{variant:"contained"}},MuiFormHelperText:{styleOverrides:{root:{marginLeft:0,marginTop:8}}}}});d().extend(m());var _t=n.createRoot(Z.M),xt=(0,l.cP)(gt);_t.render((0,h.jsx)(i.StrictMode,{children:(0,h.jsx)(R,{children:(0,h.jsx)(s.Z,{theme:wt,children:(0,h.jsx)(a._,{dateAdapter:c.y,adapterLocale:"en",children:(0,h.jsx)(v.Z,{sx:{backgroundColor:"transparent"},children:(0,h.jsx)(x,{children:(0,h.jsx)(o.pG,{router:xt})})})})})})}))},5289:function(e,r,t){t.p=window.collect_reviews_admin.plugin_url+"/assets/app/"},9353:function(e,r,t){"use strict";t.d(r,{M:function(){return n},y:function(){return i}});var i=document.getElementById("collect-reviews-root").attachShadow({mode:"open"}),n=document.createElement("div");i.appendChild(n)}},o={};function s(e){var r=o[e];if(void 0!==r)return r.exports;var t=o[e]={exports:{}};return l[e].call(t.exports,t,t.exports,s),t.exports}s.m=l,e=[],s.O=function(r,t,i,n){if(!t){var l=1/0;for(u=0;u<e.length;u++){t=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,a=0;a<t.length;a++)(!1&n||l>=n)&&Object.keys(s.O).every((function(e){return s.O[e](t[a])}))?t.splice(a--,1):(o=!1,n<l&&(l=n));if(o){e.splice(u--,1);var c=i();void 0!==c&&(r=c)}}return r}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[t,i,n]},s.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(r,{a:r}),r},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},s.t=function(e,i){if(1&i&&(e=this(e)),8&i)return e;if("object"==typeof e&&e){if(4&i&&e.__esModule)return e;if(16&i&&"function"==typeof e.then)return e}var n=Object.create(null);s.r(n);var l={};r=r||[null,t({}),t([]),t(t)];for(var o=2&i&&e;"object"==typeof o&&!~r.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((function(r){l[r]=function(){return e[r]}}));return l.default=function(){return e},s.d(n,l),n},s.d=function(e,r){for(var t in r)s.o(r,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},s.f={},s.e=function(e){return Promise.all(Object.keys(s.f).reduce((function(r,t){return s.f[t](e,r),r}),[]))},s.u=function(e){return 766===e?"static/js/766.3abce4d7.chunk.js":"static/js/"+e+".7d6328e8.chunk.min.js"},s.miniCssF=function(e){},s.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),s.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i={},n="collect-reviews-plugin:",s.l=function(e,r,t,l){if(i[e])i[e].push(r);else{var o,a;if(void 0!==t)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==e||d.getAttribute("data-webpack")==n+t){o=d;break}}o||(a=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",n+t),o.src=e),i[e]=[r];var f=function(r,t){o.onerror=o.onload=null,clearTimeout(m);var n=i[e];if(delete i[e],o.parentNode&&o.parentNode.removeChild(o),n&&n.forEach((function(e){return e(t)})),r)return r(t)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=f.bind(null,o.onerror),o.onload=f.bind(null,o.onload),a&&document.head.appendChild(o)}},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.p="/",function(){var e={179:0};s.f.j=function(r,t){var i=s.o(e,r)?e[r]:void 0;if(0!==i)if(i)t.push(i[2]);else{var n=new Promise((function(t,n){i=e[r]=[t,n]}));t.push(i[2]=n);var l=s.p+s.u(r),o=new Error;s.l(l,(function(t){if(s.o(e,r)&&(0!==(i=e[r])&&(e[r]=void 0),i)){var n=t&&("load"===t.type?"missing":t.type),l=t&&t.target&&t.target.src;o.message="Loading chunk "+r+" failed.\n("+n+": "+l+")",o.name="ChunkLoadError",o.type=n,o.request=l,i[1](o)}}),"chunk-"+r,r)}},s.O.j=function(r){return 0===e[r]};var r=function(r,t){var i,n,l=t[0],o=t[1],a=t[2],c=0;if(l.some((function(r){return 0!==e[r]}))){for(i in o)s.o(o,i)&&(s.m[i]=o[i]);if(a)var u=a(s)}for(r&&r(t);c<l.length;c++)n=l[c],s.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return s.O(u)},t=self.webpackChunkcollect_reviews_plugin=self.webpackChunkcollect_reviews_plugin||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))}();var a=s.O(void 0,[617],(function(){return s(8338)}));a=s.O(a)}();